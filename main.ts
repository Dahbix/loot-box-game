namespace SpriteKind {
    export const Box = SpriteKind.create()
    export const add = SpriteKind.create()
    export const secret = SpriteKind.create()
    export const invis = SpriteKind.create()
}
sprites.onDestroyed(SpriteKind.Box, function (sprite) {
    timer.after(500, function () {
        Prize_Generate(_1Prize, _1TextSprite)
    })
    timer.after(1500, function () {
        Prize_Generate(_2Prize, _2TextSprite)
    })
    timer.after(2500, function () {
        Prize_Generate(_3Prize, _3TextSprite)
    })
    _1Code = "nth1"
    _2Code = "nth2"
    _3Code = "nth3"
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    info.stopCountdown()
    if (!(Crate_Here)) {
        if (!(Collection_Open)) {
            if (info.score() >= 1) {
                info.changeScoreBy(-1)
                Crate_Here = true
                controller.moveSprite(Cursor, 0, 0)
                Cursor.setFlag(SpriteFlag.GhostThroughSprites, true)
                Cursor.setFlag(SpriteFlag.Invisible, true)
                for (let value of sprites.allOfKind(SpriteKind.Player)) {
                    value.destroy()
                }
                for (let value2 of sprites.allOfKind(SpriteKind.Text)) {
                    value2.destroy()
                }
                for (let value3 of sprites.allOfKind(SpriteKind.add)) {
                    value3.setFlag(SpriteFlag.Invisible, true)
                }
                mySprite = sprites.create(img`
                    ...............................
                    ...............................
                    ...............................
                    ..........fff.....fff..........
                    ........ffbbf..f..fbbff........
                    ......ffbbbbf.fcf.fbbbbff......
                    .....fbbbbbf..fcf..fbbbbbf.....
                    .....fbbbbbf.fcccf.fbbbbbf.....
                    ....fbbbbbf..fffff..fbbbbbf....
                    ....fbbbbf...........fbbbbf....
                    ...fbbbbf...fffffff...fbbbbf...
                    ...fbbff...fbcccccbf...ffbbf...
                    ...fff....fbbbcccbbbf....fff...
                    .......ff.fcbbbabbbcf.ff.......
                    .....ffcf.fccba8abccf.fcff.....
                    ....fcccf.fcca898accf.fcccf....
                    .....ffcf.fccba8abccf.fcff.....
                    .......ff.fcbbbabbbcf.ff.......
                    ...fff....fbbbcccbbbf....fff...
                    ...fbbff...fbcccccbf...ffbbf...
                    ...fbbbbf...fffffff...fbbbbf...
                    ....fbbbbf...........fbbbbf....
                    ....fbbbbbf..fffff..fbbbbbf....
                    .....fbbbbbf.fcccf.fbbbbbf.....
                    .....fbbbbbf..fcf..fbbbbbf.....
                    ......ffbbbbf.fcf.fbbbbff......
                    ........ffbbf..f..fbbff........
                    ..........fff.....fff..........
                    ...............................
                    ...............................
                    ...............................
                    `, SpriteKind.Box)
                mySprite.setPosition(80, -10)
                story.spriteMoveToLocation(mySprite, 80, 60, 100)
            }
        }
    } else if (Crate_Here) {
        mySprite.lifespan = 5800
        character.runFrames(
        mySprite,
        [img`
            ...............................
            ...............................
            ...............................
            ..........fff.....fff..........
            ........ffbbf..f..fbbff........
            ......ffbbbbf.fcf.fbbbbff......
            .....fbbbbbf..fcf..fbbbbbf.....
            .....fbbbbbf.fcccf.fbbbbbf.....
            ....fbbbbbf..fffff..fbbbbbf....
            ....fbbbbf...........fbbbbf....
            ...fbbbbf...fffffff...fbbbbf...
            ...fbbff...fbcccccbf...ffbbf...
            ...fff....fbbbcccbbbf....fff...
            .......ff.fcbbbabbbcf.ff.......
            .....ffcf.fccba8abccf.fcff.....
            ....fcccf.fcca898accf.fcccf....
            .....ffcf.fccba8abccf.fcff.....
            .......ff.fcbbbabbbcf.ff.......
            ...fff....fbbbcccbbbf....fff...
            ...fbbff...fbcccccbf...ffbbf...
            ...fbbbbf...fffffff...fbbbbf...
            ....fbbbbf...........fbbbbf....
            ....fbbbbbf..fffff..fbbbbbf....
            .....fbbbbbf.fcccf.fbbbbbf.....
            .....fbbbbbf..fcf..fbbbbbf.....
            ......ffbbbbf.fcf.fbbbbff......
            ........ffbbf..f..fbbff........
            ..........fff.....fff..........
            ...............................
            ...............................
            ...............................
            `,img`
            ...............................
            ...............................
            ...............................
            ..........fff.....fff..........
            ........ffbbf..f..fbbff........
            ......ffbbbbf.fcf.fbbbbff......
            .....fbbbbbf..fcf..fbbbbbf.....
            .....fbbbbbf.fcccf.fbbbbbf.....
            ....fbbbbbf..fffff..fbbbbbf....
            ....fbbbbf..8888888..fbbbbf....
            ...fbbbbf..8fffffff8..fbbbbf...
            ...fbbff..8fbcccccbf8..ffbbf...
            ...fff...8fbbbcccbbbf8...fff...
            .......ff8fcbbbabbbcf8ff.......
            .....ffcf8fccba8abccf8fcff.....
            ....fcccf8fcca898accf8fcccf....
            .....ffcf8fccba8abccf8fcff.....
            .......ff8fcbbbabbbcf8ff.......
            ...fff...8fbbbcccbbbf8...fff...
            ...fbbff..8fbcccccbf8..ffbbf...
            ...fbbbbf..8fffffff8..fbbbbf...
            ....fbbbbf..8888888..fbbbbf....
            ....fbbbbbf..fffff..fbbbbbf....
            .....fbbbbbf.fcccf.fbbbbbf.....
            .....fbbbbbf..fcf..fbbbbbf.....
            ......ffbbbbf.fcf.fbbbbff......
            ........ffbbf..f..fbbff........
            ..........fff.....fff..........
            ...............................
            ...............................
            ...............................
            `,img`
            ...............................
            ...............................
            ...............................
            ..........fff.....fff..........
            ........ffbbf..f..fbbff........
            ......ffbbbbf.fcf.fbbbbff......
            .....fbbbbbf..fcf..fbbbbbf.....
            .....fbbbbbf.fcccf.fbbbbbf.....
            ....fbbbbbf.8fffff8.fbbbbbf....
            ....fbbbbf.888888888.fbbbbf....
            ...fbbbbf.88fffffff88.fbbbbf...
            ...fbbff.88fbcccccbf88.ffbbf...
            ...fff..88fbbbcccbbbf88..fff...
            .......ff8fcbbbabbbcf8ff.......
            .....ffcf8fccba8abccf8fcff.....
            ....fcccf8fcca898accf8fcccf....
            .....ffcf8fccba8abccf8fcff.....
            .......ff8fcbbbabbbcf8ff.......
            ...fff..88fbbbcccbbbf88..fff...
            ...fbbff.88fbcccccbf88.ffbbf...
            ...fbbbbf.88fffffff88.fbbbbf...
            ....fbbbbf.888888888.fbbbbf....
            ....fbbbbbf.8fffff8.fbbbbbf....
            .....fbbbbbf.fcccf.fbbbbbf.....
            .....fbbbbbf..fcf..fbbbbbf.....
            ......ffbbbbf.fcf.fbbbbff......
            ........ffbbf..f..fbbff........
            ..........fff.....fff..........
            ...............................
            ...............................
            ...............................
            `,img`
            ...............................
            ...............................
            ...............................
            ..........fff.....fff..........
            ........ffbbf..f..fbbff........
            ......ffbbbbf.fcf.fbbbbff......
            .....fbbbbbf..fcf..fbbbbbf.....
            .....fbbbbbf6fcccf6fbbbbbf.....
            ....fbbbbbf68fffff86fbbbbbf....
            ....fbbbbf68888888886fbbbbf....
            ...fbbbbf688fffffff886fbbbbf...
            ...fbbff688fbcccccbf886ffbbf...
            ...fff.688fbbbcccbbbf886.fff...
            .......ff8fcbbbabbbcf8ff.......
            .....ffcf8fccba8abccf8fcff.....
            ....fcccf8fcca898accf8fcccf....
            .....ffcf8fccba8abccf8fcff.....
            .......ff8fcbbbabbbcf8ff.......
            ...fff.688fbbbcccbbbf886.fff...
            ...fbbff688fbcccccbf886ffbbf...
            ...fbbbbf688fffffff886fbbbbf...
            ....fbbbbf68888888886fbbbbf....
            ....fbbbbbf68fffff86fbbbbbf....
            .....fbbbbbf6fcccf6fbbbbbf.....
            .....fbbbbbf..fcf..fbbbbbf.....
            ......ffbbbbf.fcf.fbbbbff......
            ........ffbbf..f..fbbff........
            ..........fff.....fff..........
            ...............................
            ...............................
            ...............................
            `,img`
            ...............................
            ...............................
            ...............................
            ..........fff.....fff..........
            ........ffbbf..f..fbbff........
            ......ffbbbbf.fcf.fbbbbff......
            .....fbbbbbf..fcf..fbbbbbf.....
            .....fbbbbbf6fcccf6fbbbbbf.....
            ....fbbbbbf68fffff86fbbbbbf....
            ....fbbbbf68888888886fbbbbf....
            ...fbbbbf688fffffff886fbbbbf...
            ...fbbff688fbcccccbf886ffbbf...
            ...fff.688fbbbcccbbbf886.fff...
            .......ff8fcbbbabbbcf8ff.......
            .....ffcf8fccba8abccf8fcff.....
            ....fcccf8fcca898accf8fcccf....
            .....ffcf8fccba8abccf8fcff.....
            .......ff8fcbbbabbbcf8ff.......
            ...fff.688fbbbcccbbbf886.fff...
            ...fbbff688fbcccccbf886ffbbf...
            ...fbbbbf688fffffff886fbbbbf...
            ....fbbbbf68888888886fbbbbf....
            ....fbbbbbf68fffff86fbbbbbf....
            .....fbbbbbf6fcccf6fbbbbbf.....
            .....fbbbbbf..fcf..fbbbbbf.....
            ......ffbbbbf.fcf.fbbbbff......
            ........ffbbf..f..fbbff........
            ..........fff.....fff..........
            ...............................
            ...............................
            ...............................
            `,img`
            ...............................
            ...............................
            ...............................
            ..........fff.....fff..........
            ........ffbbf..f..fbbff........
            ......ffbbbbf9fcf9fbbbbff......
            .....fbbbbbf66fcf66fbbbbbf.....
            .....fbbbbbf6fcccf6fbbbbbf.....
            ....fbbbbbf68fffff86fbbbbbf....
            ....fbbbbf68888888886fbbbbf....
            ...fbbbbf688fffffff886fbbbbf...
            ...fbbff688fbcccccbf886ffbbf...
            ...fff6688fbbbcccbbbf8866fff...
            .....96ff8fcbbbabbbcf8ff69.....
            .....ffcf8fccba8abccf8fcff.....
            ....fcccf8fcca898accf8fcccf....
            .....ffcf8fccba8abccf8fcff.....
            .....96ff8fcbbbabbbcf8ff69.....
            ...fff6688fbbbcccbbbf8866fff...
            ...fbbff688fbcccccbf886ffbbf...
            ...fbbbbf688fffffff886fbbbbf...
            ....fbbbbf68888888886fbbbbf....
            ....fbbbbbf68fffff86fbbbbbf....
            .....fbbbbbf6fcccf6fbbbbbf.....
            .....fbbbbbf66fcf66fbbbbbf.....
            ......ffbbbbf9fcf9fbbbbff......
            ........ffbbf..f..fbbff........
            ..........fff.....fff..........
            ...............................
            ...............................
            ...............................
            `,img`
            ...............................
            ...............................
            ...............................
            ..........fff.....fff..........
            ........ffbbf99f99fbbff........
            ......ffbbbbf9fcf9fbbbbff......
            .....fbbbbbf66fcf66fbbbbbf.....
            .....fbbbbbf6fcccf6fbbbbbf.....
            ....fbbbbbf68fffff86fbbbbbf....
            ....fbbbbf68888888886fbbbbf....
            ...fbbbbf688fffffff886fbbbbf...
            ...fbbff688fbcccccbf886ffbbf...
            ...fff6688fbbbcccbbbf8866fff...
            ....996ff8fcbbbabbbcf8ff699....
            ....9ffcf8fccba8abccf8fcff9....
            ....fcccf8fcca898accf8fcccf....
            ....9ffcf8fccba8abccf8fcff9....
            ....996ff8fcbbbabbbcf8ff699....
            ...fff6688fbbbcccbbbf8866fff...
            ...fbbff688fbcccccbf886ffbbf...
            ...fbbbbf688fffffff886fbbbbf...
            ....fbbbbf68888888886fbbbbf....
            ....fbbbbbf68fffff86fbbbbbf....
            .....fbbbbbf6fcccf6fbbbbbf.....
            .....fbbbbbf66fcf66fbbbbbf.....
            ......ffbbbbf9fcf9fbbbbff......
            ........ffbbf99f99fbbff........
            ..........fff.....fff..........
            ...............................
            ...............................
            ...............................
            `,img`
            ...............................
            ...............................
            ...............................
            ..........fff99999fff..........
            ........ffbbf99f99fbbff........
            ......ffbbbbf9fcf9fbbbbff......
            .....fbbbbbf66fcf66fbbbbbf.....
            .....fbbbbbf6fcccf6fbbbbbf.....
            ....fbbbbbf68fffff86fbbbbbf....
            ....fbbbbf68888888886fbbbbf....
            ...fbbbbf688fffffff886fbbbbf...
            ...fbbff688fbcccccbf886ffbbf...
            ...fff6688fbbbcccbbbf8866fff...
            ...9996ff8fcbbbabbbcf8ff6999...
            ...99ffcf8fccba8abccf8fcff99...
            ...9fcccf8fcca898accf8fcccf9...
            ...99ffcf8fccba8abccf8fcff99...
            ...9996ff8fcbbbabbbcf8ff6999...
            ...fff6688fbbbcccbbbf8866fff...
            ...fbbff688fbcccccbf886ffbbf...
            ...fbbbbf688fffffff886fbbbbf...
            ....fbbbbf68888888886fbbbbf....
            ....fbbbbbf68fffff86fbbbbbf....
            .....fbbbbbf6fcccf6fbbbbbf.....
            .....fbbbbbf66fcf66fbbbbbf.....
            ......ffbbbbf9fcf9fbbbbff......
            ........ffbbf99f99fbbff........
            ..........fff99999fff..........
            ...............................
            ...............................
            ...............................
            `,img`
            ...............................
            ...............................
            .........fff.......fff.........
            .......ffbbf...f...fbbff.......
            .....ffbbbbf..fcf..fbbbbff.....
            ....fbbbbbf...fcf...fbbbbbf....
            ....fbbbbbf..fcccf..fbbbbbf....
            ...fbbbbbf...fffff...fbbbbbf...
            ...fbbbbf.............fbbbbf...
            ..fbbbbf...............fbbbbf..
            ..fbbff.....fffffff.....ffbbf..
            ..fff......fbcccccbf......fff..
            ..........fbbbcccbbbf..........
            ......ff..fcbbbabbbcf..ff......
            ....ffcf..fccba8abccf..fcff....
            ...fcccf..fcca898accf..fcccf...
            ....ffcf..fccba8abccf..fcff....
            ......ff..fcbbbabbbcf..ff......
            ..........fbbbcccbbbf..........
            ..fff......fbcccccbf......fff..
            ..fbbff.....fffffff.....ffbbf..
            ..fbbbbf...............fbbbbf..
            ...fbbbbf.............fbbbbf...
            ...fbbbbbf...fffff...fbbbbbf...
            ....fbbbbbf..fcccf..fbbbbbf....
            ....fbbbbbf...fcf...fbbbbbf....
            .....ffbbbbf..fcf..fbbbbff.....
            .......ffbbf...f...fbbff.......
            .........fff.......fff.........
            ...............................
            ...............................
            `,img`
            ...............................
            ........fff.........fff........
            ......ffbbf....f....fbbff......
            ....ffbbbbf...fcf...fbbbbff....
            ...fbbbbbf....fcf....fbbbbbf...
            ...fbbbbbf...fcccf...fbbbbbf...
            ..fbbbbbf....fffff....fbbbbbf..
            ..fbbbbf...............fbbbbf..
            .fbbbbf.................fbbbbf.
            .fbbff...................ffbbf.
            .fff........fffffff........fff.
            ...........fbcccccbf...........
            ..........fbbbcccbbbf..........
            .....ff...fcbbbabbbcf...ff.....
            ...ffcf...fccba8abccf...fcff...
            ..fcccf...fcca898accf...fcccf..
            ...ffcf...fccba8abccf...fcff...
            .....ff...fcbbbabbbcf...ff.....
            ..........fbbbcccbbbf..........
            ...........fbcccccbf...........
            .fff........fffffff........fff.
            .fbbff...................ffbbf.
            .fbbbbf.................fbbbbf.
            ..fbbbbf...............fbbbbf..
            ..fbbbbbf....fffff....fbbbbbf..
            ...fbbbbbf...fcccf...fbbbbbf...
            ...fbbbbbf....fcf....fbbbbbf...
            ....ffbbbbf...fcf...fbbbbff....
            ......ffbbf....f....fbbff......
            ........fff.........fff........
            ...............................
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf......fffff......fbbbbf.
            fbbbbf...................fbbbbf
            fbbff.....................ffbbf
            fff.........................fff
            ............fffffff............
            ...........fbcccccbf...........
            ..........fbbbcccbbbf..........
            .....ff...fcbbbabbbcf...ff.....
            ...ffcf...fccba8abccf...fcff...
            ..fcccf...fcca898accf...fcccf..
            ...ffcf...fccba8abccf...fcff...
            .....ff...fcbbbabbbcf...ff.....
            ..........fbbbcccbbbf..........
            ...........fbcccccbf...........
            ............fffffff............
            fff.........................fff
            fbbff.....................ffbbf
            fbbbbf...................fbbbbf
            .fbbbbf......fffff......fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf44...............44fbbbbf
            fbbff.....................ffbbf
            fff.........................fff
            ............fffffff............
            ...........fbcccccbf...........
            ..........fbbbcccbbbf..........
            .....ff...fcbbbabbbcf...ff.....
            ...ffcf...fccba8abccf...fcff...
            ..fcccf...fcca898accf...fcccf..
            ...ffcf...fccba8abccf...fcff...
            .....ff...fcbbbabbbcf...ff.....
            ..........fbbbcccbbbf..........
            ...........fbcccccbf...........
            ............fffffff............
            fff.........................fff
            fbbff.....................ffbbf
            fbbbbf44...............44fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf44...............44fbbbbf
            fbbff...4.............4...ffbbf
            fff......4...........4......fff
            ..........4.fffffff.4..........
            ...........fbcccccbf...........
            ..........fbbbcccbbbf..........
            .....ff...fcbbbabbbcf...ff.....
            ...ffcf...fccba8abccf...fcff...
            ..fcccf...fcca898accf...fcccf..
            ...ffcf...fccba8abccf...fcff...
            .....ff...fcbbbabbbcf...ff.....
            ..........fbbbcccbbbf..........
            ...........fbcccccbf...........
            ..........4.fffffff.4..........
            fff......4...........4......fff
            fbbff...4.............4...ffbbf
            fbbbbf44...............44fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf444.............444fbbbbf
            fbbff..444...........444..ffbbf
            fff.....444.........444.....fff
            .........44.fffffff.44.........
            ...........fbcccccbf...........
            ..........fbbbcccbbbf..........
            .....ff...fcbbbabbbcf...ff.....
            ...ffcf...fccba8abccf...fcff...
            ..fcccf...fcca898accf...fcccf..
            ...ffcf...fccba8abccf...fcff...
            .....ff...fcbbbabbbcf...ff.....
            ..........fbbbcccbbbf..........
            ...........fbcccccbf...........
            .........44.fffffff.44.........
            fff.....444.........444.....fff
            fbbff..444...........444..ffbbf
            fbbbbf444.............444fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf444.............444fbbbbf
            fbbff..454...........454..ffbbf
            fff.....452.........254.....fff
            .........22.fffffff.22.........
            ...........fbcccccbf...........
            ..........fbbbcccbbbf..........
            .....ff...fcbbbabbbcf...ff.....
            ...ffcf...fccba8abccf...fcff...
            ..fcccf...fcca898accf...fcccf..
            ...ffcf...fccba8abccf...fcff...
            .....ff...fcbbbabbbcf...ff.....
            ..........fbbbcccbbbf..........
            ...........fbcccccbf...........
            .........22.fffffff.22.........
            fff.....452.........254.....fff
            fbbff..454...........454..ffbbf
            fbbbbf444.............444fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf444.............444fbbbbf
            fbbff..454...........454..ffbbf
            fff.....452.........254.....fff
            .........22.fffffff.22.........
            ...........fbcccccbf...........
            ..........fbbbcccbbbf..........
            .....ff...fcbbbabbbff...ff.....
            ...ffcf...fccba8abfcf...fcff...
            ..fcccf...fcca898accf...fcccf..
            ...ffcf...ffcba8abccf...fcff...
            .....ff...fcbbbabbbcf...ff.....
            ..........fbbbcccbbbf..........
            ...........fbcccccbf...........
            .........22.fffffff.22.........
            fff.....452.........254.....fff
            fbbff..454...........454..ffbbf
            fbbbbf444.............444fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf444.............444fbbbbf
            fbbff..454...........454..ffbbf
            fff.....452.........254.....fff
            .........22.fffffff.22.........
            ...........fbcccccbf...........
            ..........fbbbcccbbbf..........
            .....ff...fcbbbafbbff...ff.....
            ...ffcf...fccba8affcf...fcff...
            ..fcccf...fccff98accf...fcccf..
            ...ffcf...fffba8abccf...fcff...
            .....ff...fcbbfabbbcf...ff.....
            ..........fbbbcfcbbbf..........
            ...........fbccfccbf...........
            .........22.fffffff.22.........
            fff.....452.........254.....fff
            fbbff..454...........454..ffbbf
            fbbbbf444.............444fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf444.............444fbbbbf
            fbbff..454...........454..ffbbf
            fff.....452.........254.....fff
            .........22.fffffff.22.........
            ...........fbfccccbf...........
            ..........fbbbcccbbbf..........
            .....ff...fcbbbafbbff...ff.....
            ...ffcf...fccba8affcf...fcff...
            ..fcccf...fccff98accf...fcccf..
            ...ffcf...fffba8abccf...fcff...
            .....ff...fcbbfabbfff...ff.....
            ..........fbbbcfcbbbf..........
            ...........fbccfccbf...........
            .........22.fffffff.22.........
            fff.....452.........254.....fff
            fbbff..454...........454..ffbbf
            fbbbbf444.............444fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf444.............444fbbbbf
            fbbff..454...........454..ffbbf
            fff.....452.........254.....fff
            .........22.fffffff.22.........
            ...........fbfccccbf...........
            ..........fbbbffcbbbf..........
            .....ff...fcbbbafbbff...ff.....
            ...ffcf...fccbafaffcf...fcff...
            ..fcccf...fccff98accf...fcccf..
            ...ffcf...fffbafafccf...fcff...
            .....ff...fcbbfabbfff...ff.....
            ..........fbbbcfcbbbf..........
            ...........fbccfccbf...........
            .........22.fffffff.22.........
            fff.....452.........254.....fff
            fbbff..454...........454..ffbbf
            fbbbbf444.............444fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbf......
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf444.............444fbbbbf
            fbbff..454...........454..ffbbf
            fff.....452.........254.....fff
            .........22.fffffff.22.........
            ...........fbfccccbf...........
            ..........fbbbffcfbbf..........
            .....ff...fcbbbafbbff...ff.....
            ...ffcf...fcfbafaffcf...fcff...
            ..fcccf...fccff9faccf...fcccf..
            ...ffcf...fffbafafccf...fcff...
            .....ff...fcbbfabbfff...ff.....
            ..........fbbfcfcbbbf..........
            ...........fbccfccbf...........
            .........22.fffffff.22.........
            fff.....452.........254.....fff
            fbbff..454...........454..ffbbf
            fbbbbf444.............444fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf444.............444fbbbbf
            fbbff..454...........454..ffbbf
            fff.....452.........254.....fff
            .........22.1111111.22.........
            ...........111111111...........
            ..........11111111111..........
            .....ff...11111111111...ff.....
            ...ffcf...11111111111...fcff...
            ..fcccf...11111111111...fcccf..
            ...ffcf...11111111111...fcff...
            .....ff...11111111111...ff.....
            ..........11111111111..........
            ...........111111111...........
            .........22.1111111.22.........
            fff.....452.........254.....fff
            fbbff..454...........454..ffbbf
            fbbbbf444.............444fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf444.............444fbbbbf
            fbbff..44.............44..ffbbf
            fff......4...........4......fff
            ..........4.1111111.4..........
            ...........111111111...........
            ..........11111111111..........
            .....ff...11111111111...ff.....
            ...ffcf...11111111111...fcff...
            ..fcccf...11111111111...fcccf..
            ...ffcf...11111111111...fcff...
            .....ff...11111111111...ff.....
            ..........11111111111..........
            ...........111111111...........
            ..........4.1111111.4..........
            fff......4...........4......fff
            fbbff..44.............44..ffbbf
            fbbbbf444.............444fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf4.....fffff.....4fbbbbf.
            fbbbbf44...............44fbbbbf
            fbbff.....................ffbbf
            fff.........................fff
            ............1111111............
            ...........111111111...........
            ..........11111111111..........
            .....ff...11111111111...ff.....
            ...ffcf...11111111111...fcff...
            ..fcccf...11111111111...fcccf..
            ...ffcf...11111111111...fcff...
            .....ff...11111111111...ff.....
            ..........11111111111..........
            ...........111111111...........
            ............1111111............
            fff.........................fff
            fbbff.....................ffbbf
            fbbbbf44...............44fbbbbf
            .fbbbbf4.....fffff.....4fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `,img`
            .......fff...........fff.......
            .....ffbbf...........fbbff.....
            ...ffbbbbf.....f.....fbbbbff...
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            .fbbbbbf.....fcccf.....fbbbbbf.
            .fbbbbf......fffff......fbbbbf.
            fbbbbf...................fbbbbf
            fbbff.....................ffbbf
            fff.........................fff
            ............1111111............
            ...........111111111...........
            ..........11111111111..........
            .....ff...11111111111...ff.....
            ...ffcf...11111111111...fcff...
            ..fcccf...11111111111...fcccf..
            ...ffcf...11111111111...fcff...
            .....ff...11111111111...ff.....
            ..........11111111111..........
            ...........111111111...........
            ............1111111............
            fff.........................fff
            fbbff.....................ffbbf
            fbbbbf...................fbbbbf
            .fbbbbf......fffff......fbbbbf.
            .fbbbbbf.....fcccf.....fbbbbbf.
            ..fbbbbbf.....fcf.....fbbbbbf..
            ..fbbbbbf.....fcf.....fbbbbbf..
            ...ffbbbbf.....f.....fbbbbff...
            .....ffbbf...........fbbff.....
            .......fff...........fff.......
            `],
        200,
        character.rule(Predicate.NotMoving)
        )
    }
})
function Prize_Generate (Sprite2: Sprite, txtSprite: Sprite) {
    Random_Number = randint(0, 1350)
    if (Random_Number < 50) {
        Image2 = img`
            55555555555555555555555555555555
            54444444444444444444444444444445
            54444444444444444444444444444445
            54444444444444444444444444444445
            544444444444444444444444ffff4445
            54444444444444444444444fcccf4445
            5444444444444444444444fccfcf4445
            544444444444444444444fccfccf4445
            54444444444444444444fccfccf44445
            5444444444444444444fbbfccf444445
            544444444444444444fb2fbcf4444445
            54444444444444444fcbf2bf44444445
            5444444444444444fccfbbf444444445
            544444444444444fccfccf4444444445
            54444444444444fccfccf44444444445
            5444444444444f9bfccf444444444445
            544444444444f96fbcf4444444444445
            54444444444f96f69f44444444444445
            5444444b44fcbf69f444444444444445
            544444b9bfccfb9f4444444444444445
            5444444b2bcfccf44444444444444445
            54444444b7bccf444444444444444445
            54444444eb7bf4444444444444444445
            5444444eceb2b4444444444444444445
            544444ece44b9b444444444444444445
            54444ece4444b4444444444444444445
            5444ece4444444444444444444444445
            544ece44444444444444444444444445
            544ee444444444444444444444444445
            54444444444444444444444444444445
            54444444444444444444444444444445
            55555555555555555555555555555555
            `
        Name = "Sword 4"
    } else if (Random_Number < 100) {
        Image2 = img`
            55555555555555555555555555555555
            54444444444444444444444444444445
            54444444444444444444444444444445
            54444444444444444444444444fff445
            544444444444444444444444ffc9f445
            54444444444444444444444fccfcf445
            5444444444444444444444f7bfcf4445
            544444444444444444444fcbfbcf4445
            544444444444444444444fcfb7f44445
            54444444444444444444f2fccf444445
            54444444444444444444ef2ff4444445
            5444444444444444444ecef444444445
            544444444444444444ece44444444445
            54444444444444444ece444444444445
            5444444444444444ece4444444444445
            544444444444444ece44444444444445
            54444444444444ece444444444444445
            5444444444444ece4444444444444445
            544444444444ece44444444444444445
            54444444444ece444444444444444445
            5444444444ece4444444444444444445
            544444444ece44444444444444444445
            54444444ece444444444444444444445
            5444444ece4444444444444444444445
            544444ece44444444444444444444445
            54444ece444444444444444444444445
            5444ece4444444444444444444444445
            544ece44444444444444444444444445
            544ee444444444444444444444444445
            54444444444444444444444444444445
            54444444444444444444444444444445
            55555555555555555555555555555555
            `
        Name = "Spear 4"
    } else if (Random_Number < 175) {
        Image2 = img`
            aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
            adddddddddddddddddddddddddddddda
            adddddddddddddddddddddddddddddda
            adddddddddddddddddddddddddddddda
            addddddddddddddddddddddd6666ddda
            adddddddddddddddddddddd69996ddda
            addddddddddddddddddddd699696ddda
            adddddddddddddddddddd6996996ddda
            addddddddddddddddddd6996996dddda
            adddddddddddddddddd6996996ddddda
            addddddddddddddddd6996996dddddda
            adddddddddddddddd6996996ddddddda
            addddddddddddddd6996996dddddddda
            adddddddddddddd6996996ddddddddda
            addddddddddddd6996996dddddddddda
            adddddddddddd6996996ddddddddddda
            addddddddddd6996996dddddddddddda
            adddddddddd6996996ddddddddddddda
            addddddcdd6996996dddddddddddddda
            adddddcac6996996ddddddddddddddda
            addddddcac96996dddddddddddddddda
            adddddddcac996ddddddddddddddddda
            adddddddecac6dddddddddddddddddda
            addddddececacdddddddddddddddddda
            adddddeceddcacddddddddddddddddda
            addddeceddddcdddddddddddddddddda
            adddecedddddddddddddddddddddddda
            addeceddddddddddddddddddddddddda
            addeedddddddddddddddddddddddddda
            adddddddddddddddddddddddddddddda
            adddddddddddddddddddddddddddddda
            aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
            `
        Name = "Sword 3"
    } else if (Random_Number < 250) {
        Image2 = img`
            aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
            adddddddddddddddddddddddddddddda
            adddddddddddddddddddddddddddddda
            addddddddddddddddddddddddd666dda
            addddddddddddddddddddddd66996dda
            adddddddddddddddddddddd699696dda
            addddddddddddddddddddd699696ddda
            adddddddddddddddddddd6996996ddda
            adddddddddddddddddddd696996dddda
            addddddddddddddddddd696996ddddda
            adddddddddddddddddddec966dddddda
            addddddddddddddddddece6dddddddda
            adddddddddddddddddecedddddddddda
            addddddddddddddddeceddddddddddda
            adddddddddddddddecedddddddddddda
            addddddddddddddeceddddddddddddda
            adddddddddddddecedddddddddddddda
            addddddddddddeceddddddddddddddda
            adddddddddddecedddddddddddddddda
            addddddddddeceddddddddddddddddda
            adddddddddecedddddddddddddddddda
            addddddddeceddddddddddddddddddda
            adddddddecedddddddddddddddddddda
            addddddeceddddddddddddddddddddda
            adddddecedddddddddddddddddddddda
            addddeceddddddddddddddddddddddda
            adddecedddddddddddddddddddddddda
            addeceddddddddddddddddddddddddda
            addeedddddddddddddddddddddddddda
            adddddddddddddddddddddddddddddda
            adddddddddddddddddddddddddddddda
            aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
            `
        Name = "Spear 3"
    } else if (Random_Number < 400) {
        Image2 = img`
            88888888888888888888888888888888
            87777777777777777777777777777778
            87777777777777777777777777777778
            87777777777777777777777777777778
            877777777777777777777777bbbb7778
            87777777777777777777777bdddb7778
            8777777777777777777777bddbdb7778
            877777777777777777777bddbddb7778
            87777777777777777777bddbddb77778
            8777777777777777777bddbddb777778
            877777777777777777bddbddb7777778
            87777777777777777bddbddb77777778
            8777777777777777bddbddb777777778
            877777777777777bddbddb7777777778
            87777777777777bddbddb77777777778
            8777777777777bddbddb777777777778
            877777777777bddbddb7777777777778
            87777777777bddbddb77777777777778
            8777777c77bddbddb777777777777778
            877777cacbddbddb7777777777777778
            8777777cacdbddb77777777777777778
            87777777cacddb777777777777777778
            87777777ecacb7777777777777777778
            8777777ececac7777777777777777778
            877777ece77cac777777777777777778
            87777ece7777c7777777777777777778
            8777ece7777777777777777777777778
            877ece77777777777777777777777778
            877ee777777777777777777777777778
            87777777777777777777777777777778
            87777777777777777777777777777778
            88888888888888888888888888888888
            `
        Name = "Sword 2"
    } else if (Random_Number < 550) {
        Image2 = img`
            88888888888888888888888888888888
            87777777777777777777777777777778
            87777777777777777777777777777778
            87777777777777777777777777bbb778
            877777777777777777777777bbddb778
            87777777777777777777777bddbdb778
            8777777777777777777777bddbdb7778
            877777777777777777777bddbddb7778
            877777777777777777777bdbddb77778
            87777777777777777777bdbddb777778
            87777777777777777777ebdbb7777778
            8777777777777777777eceb777777778
            877777777777777777ece77777777778
            87777777777777777ece777777777778
            8777777777777777ece7777777777778
            877777777777777ece77777777777778
            87777777777777ece777777777777778
            8777777777777ece7777777777777778
            877777777777ece77777777777777778
            87777777777ece777777777777777778
            8777777777ece7777777777777777778
            877777777ece77777777777777777778
            87777777ece777777777777777777778
            8777777ece7777777777777777777778
            877777ece77777777777777777777778
            87777ece777777777777777777777778
            8777ece7777777777777777777777778
            877ece77777777777777777777777778
            877ee777777777777777777777777778
            87777777777777777777777777777778
            87777777777777777777777777777778
            88888888888888888888888888888888
            `
        Name = "Spear 2"
    } else if (Random_Number < 900) {
        Image2 = img`
            77777777777777777777777777777777
            76666666666666666666666666666667
            76666666666666666666666666666667
            76666666666666666666666666666667
            766666666666666666666666cccc6667
            76666666666666666666666cbbbc6667
            7666666666666666666666cbbcbc6667
            766666666666666666666cbbcbbc6667
            76666666666666666666cbbcbbc66667
            7666666666666666666cbbcbbc666667
            766666666666666666cbbcbbc6666667
            76666666666666666cbbcbbc66666667
            7666666666666666cbbcbbc666666667
            766666666666666cbbcbbc6666666667
            76666666666666cbbcbbc66666666667
            7666666666666cbbcbbc666666666667
            766666666666cbbcbbc6666666666667
            76666666666cbbcbbc66666666666667
            7666666c66cbbcbbc666666666666667
            766666caccbbcbbc6666666666666667
            7666666cacbcbbc66666666666666667
            76666666cacbbc666666666666666667
            76666666ecacc6666666666666666667
            7666666ececac6666666666666666667
            766666ece66cac666666666666666667
            76666ece6666c6666666666666666667
            7666ece6666666666666666666666667
            766ece66666666666666666666666667
            766ee666666666666666666666666667
            76666666666666666666666666666667
            76666666666666666666666666666667
            77777777777777777777777777777777
            `
        Name = "Sword 1"
    } else if (Random_Number < 1350) {
        Image2 = img`
            77777777777777777777777777777777
            76666666666666666666666666666667
            76666666666666666666666666666667
            76666666666666666666666666ccc667
            766666666666666666666666ccbbc667
            76666666666666666666666cbbcbc667
            7666666666666666666666cbbcbc6667
            766666666666666666666cbbcbbc6667
            766666666666666666666cbcbbc66667
            76666666666666666666cbcbbc666667
            76666666666666666666ecbcc6666667
            7666666666666666666ecec666666667
            766666666666666666ece66666666667
            76666666666666666ece666666666667
            7666666666666666ece6666666666667
            766666666666666ece66666666666667
            76666666666666ece666666666666667
            7666666666666ece6666666666666667
            766666666666ece66666666666666667
            76666666666ece666666666666666667
            7666666666ece6666666666666666667
            766666666ece66666666666666666667
            76666666ece666666666666666666667
            7666666ece6666666666666666666667
            766666ece66666666666666666666667
            76666ece666666666666666666666667
            7666ece6666666666666666666666667
            766ece66666666666666666666666667
            766ee666666666666666666666666667
            76666666666666666666666666666667
            76666666666666666666666666666667
            77777777777777777777777777777777
            `
        Name = "Spear 1"
    }
    Get_Prize(Sprite2, txtSprite, Image2, Name)
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Cursor.overlapsWith(mySprite3)) {
        Entered_Reset_Code = game.askForString("Write reset to reset money")
    }
    if (Cursor.overlapsWith(mySprite4)) {
        moneyhack1 = true
    }
    if (Cursor.overlapsWith(Add_Credits_Sprite)) {
        typed_in_code = game.askForString("Redeem Code")
    }
    if (Cursor.overlapsWith(Reset_Code)) {
        info.startCountdown(Countdown_Time)
    }
    if (Crate_Opened) {
        Crate_Opened = false
        for (let value4 of sprites.allOfKind(SpriteKind.Player)) {
            value4.destroy()
        }
        for (let value5 of sprites.allOfKind(SpriteKind.Text)) {
            value5.destroy()
        }
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    Current += -1
})
info.onCountdownEnd(function () {
    blockSettings.remove("code used")
    game.splash("Codes Reset!", "Codes unlocked!")
})
controller.anyButton.onEvent(ControllerButtonEvent.Repeated, function () {
    info.stopCountdown()
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    Current += 1
})
controller.menu.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(Collection_Open)) {
        for (let value7 of sprites.allOfKind(SpriteKind.Player)) {
            value7.destroy()
        }
        for (let value8 of sprites.allOfKind(SpriteKind.Text)) {
            value8.destroy()
        }
        controller.moveSprite(Cursor, 0, 0)
        Cursor.setFlag(SpriteFlag.GhostThroughSprites, true)
        Cursor.setFlag(SpriteFlag.Invisible, true)
        Current = 0
        textSprite = textsprite.create("")
        textSprite.y = 85
        mySprite2 = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Player)
        mySprite2.setPosition(75, 55)
        Collection_Open = true
    } else if (Collection_Open) {
        for (let value9 of sprites.allOfKind(SpriteKind.Player)) {
            value9.destroy()
        }
        controller.moveSprite(Cursor, 100, 100)
        Cursor.setFlag(SpriteFlag.GhostThroughSprites, false)
        Cursor.setFlag(SpriteFlag.Invisible, false)
        Collection_Open = false
    }
})
function Get_Prize (Sprite2: Sprite, TextSprt: Sprite, Image2: Image, TextName: string) {
    if (Sprite2 == _1Prize) {
        _1Prize = sprites.create(Image2, SpriteKind.Player)
        _1Prize.y = -35
        _1Prize.x = 30
        story.spriteMoveToLocation(_1Prize, 30, 60, 100)
    } else if (Sprite2 == _2Prize) {
        _2Prize = sprites.create(Image2, SpriteKind.Player)
        _2Prize.y = -35
        story.spriteMoveToLocation(_2Prize, 80, 60, 100)
    } else if (Sprite2 == _3Prize) {
        _3Prize = sprites.create(Image2, SpriteKind.Player)
        _3Prize.y = -35
        _3Prize.x = 130
        story.spriteMoveToLocation(_3Prize, 130, 60, 100)
        Code = true
        timer.after(1000, function () {
            Cursor.setFlag(SpriteFlag.GhostThroughSprites, false)
            Cursor.setFlag(SpriteFlag.Invisible, false)
            controller.moveSprite(Cursor, 100, 100)
            for (let value6 of sprites.allOfKind(SpriteKind.add)) {
                value6.setFlag(SpriteFlag.Invisible, false)
            }
            Crate_Opened = true
            Crate_Here = false
        })
    }
    if (TextSprt == _1TextSprite) {
        _1Code = TextName
        _1TextSprite = textsprite.create(TextName)
        _1TextSprite.x = 30
        _1TextSprite.y = 85
    } else if (TextSprt == _2TextSprite) {
        _2Code = TextName
        _2TextSprite = textsprite.create(TextName)
        _2TextSprite.y = 85
        _2TextSprite.x = 80
    } else if (TextSprt == _3TextSprite) {
        _3Code = TextName
        _3TextSprite = textsprite.create(TextName)
        _3TextSprite.x = 130
        _3TextSprite.y = 85
    }
    Your_Items.push(Image2)
    Item_Names.push(TextName)
    if (Code) {
        Code = false
        if (_1Code == _2Code && _2Code == _3Code) {
            music.siren.play()
            GetCode(_1Code, true)
        } else {
            if (_1Code == _2Code) {
                music.magicWand.play()
                GetCode(_1Code, false)
            } else if (_2Code == _3Code) {
                music.magicWand.play()
                GetCode(_2Code, false)
            } else if (_1Code == _3Code) {
                music.magicWand.play()
                GetCode(_3Code, false)
            }
        }
    }
}
function GetCode (NameOfPrize: string, extra: boolean) {
    if (NameOfPrize == "Sword 4") {
        Code_is = "4005"
    } else if (NameOfPrize == "Spear 4") {
        Code_is = "4010"
    } else if (NameOfPrize == "Sword 3") {
        Code_is = "3017"
    } else if (NameOfPrize == "Spear 3") {
        Code_is = "3025"
    } else if (NameOfPrize == "Sword 2") {
        Code_is = "2040"
    } else if (NameOfPrize == "Spear 2") {
        Code_is = "2055"
    } else if (NameOfPrize == "Sword 1") {
        Code_is = "1090"
    } else if (NameOfPrize == "Spear 1") {
        Code_is = "1135"
    }
    if (extra) {
        _2Prize.say("" + Code_is + "1")
    } else {
        _2Prize.say("" + Code_is + "0")
    }
}
let moneyhack2 = false
let moneyhack3 = false
let Code_is = ""
let Code = false
let mySprite2: Sprite = null
let textSprite: TextSprite = null
let Current = 0
let Crate_Opened = false
let typed_in_code = ""
let moneyhack1 = false
let Entered_Reset_Code = ""
let Name = ""
let Image2: Image = null
let Random_Number = 0
let mySprite: Sprite = null
let Collection_Open = false
let _3Code = ""
let _2Code = ""
let _1Code = ""
let _3TextSprite: Sprite = null
let _3Prize: Sprite = null
let _2TextSprite: Sprite = null
let _2Prize: Sprite = null
let _1TextSprite: Sprite = null
let _1Prize: Sprite = null
let Item_Names: string[] = []
let Your_Items: Image[] = []
let Add_Credits_Sprite: Sprite = null
let Reset_Code: Sprite = null
let mySprite3: Sprite = null
let mySprite4: Sprite = null
let Cursor: Sprite = null
let Crate_Here = false
let Countdown_Time = 0
Countdown_Time = 3
scene.setBackgroundColor(13)
Crate_Here = false
Cursor = sprites.create(img`
    . . . . . . . 1 . . . . . . . 
    . . . . . . 1 2 1 . . . . . . 
    . . . . . . 1 2 1 . . . . . . 
    . . . . . . 1 2 1 . . . . . . 
    . . . . . . . 1 . . . . . . . 
    . . . . . . . . . . . . . . . 
    . 1 1 1 . . . 1 . . . 1 1 1 . 
    1 2 2 2 1 . 1 2 1 . 1 2 2 2 1 
    . 1 1 1 . . . 1 . . . 1 1 1 . 
    . . . . . . . . . . . . . . . 
    . . . . . . . 1 . . . . . . . 
    . . . . . . 1 2 1 . . . . . . 
    . . . . . . 1 2 1 . . . . . . 
    . . . . . . 1 2 1 . . . . . . 
    . . . . . . . 1 . . . . . . . 
    `, SpriteKind.Enemy)
mySprite4 = sprites.create(img`
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    d d d d d d d d d d d d d d d d 
    `, SpriteKind.secret)
mySprite4.setPosition(80, 8)
controller.moveSprite(Cursor, 100, 100)
Cursor.z = 120
Cursor.setFlag(SpriteFlag.StayInScreen, true)
mySprite3 = sprites.create(img`
    . . . . . . . . . . 3 3 3 3 3 3 
    . . . . . . . . . . 3 3 3 3 3 3 
    . . . . . . . . . . 3 3 3 3 3 3 
    . . . . . . . . . . 3 3 3 3 3 3 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.invis)
mySprite3.setPosition(148, 7)
mySprite3.setFlag(SpriteFlag.Invisible, true)
Reset_Code = sprites.create(img`
    .222222222222222222222222222222222222222222222222.
    25555555555555555555555555555555555555555555555552
    2e444444444444444444444444444444444444444444444452
    2e444cc444444444c444444444444444444444444444c44452
    2e44c44444444444c444444444444444444444444444c44452
    2e4c444444444444c44444444444444444444444444ccc4452
    2e4c444444444444c444c44444444444c444cc44c444c44452
    2e4c44444cc444ccc44c4c444444cc4c4c4c444c4c44c44452
    2e4c4444c44c4c44c44ccc44444c444ccc44c44ccc44c44452
    2e44c444c44c4c44c44c4444444c444c44444c4c4444c44452
    2e444cc44cc444ccc444cc44444c4444cc44c444cc44c44452
    2e444444444444444444444444444444444444444444444452
    2eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee52
    .222222222222222222222222222222222222222222222222.
    `, SpriteKind.add)
Reset_Code.setPosition(30, 8)
Add_Credits_Sprite = sprites.create(img`
    .888888888888888888888888888888.
    81111111111111111111111111111118
    8699999999999c99999999c99999c918
    869999999999c9c9999999c99999c918
    869999999999c9c9999999c99999c918
    86999c99999c999c999999c99999c918
    86999c99999ccccc999999c99999c918
    869ccccc999c999c999999c99999c918
    86999c9999c99999c999ccc999ccc918
    86999c9999c99999c99c99c99c99c918
    8699999999c99999c99c99c99c99c918
    8699999999c99999c999cc9999cc9918
    86666666666666666666666666666668
    .888888888888888888888888888888.
    `, SpriteKind.add)
Add_Credits_Sprite.setPosition(119, 8)
Your_Items = []
Item_Names = []
if (blockSettings.exists("credits")) {
    info.setScore(blockSettings.readNumber("credits"))
} else if (!(blockSettings.exists("credits"))) {
    info.setScore(3)
}
game.onUpdate(function () {
    if (Collection_Open) {
        if (Current < 0) {
            Current = 0
        }
        if (Current >= Your_Items.length) {
            Current = Your_Items.length - 1
        }
        mySprite2.setImage(Your_Items[Current])
        mySprite2.say("" + (Current + 1) + "/" + Your_Items.length)
        textSprite.setText(Item_Names[Current])
    }
    if (typed_in_code == "getc10") {
        if (blockSettings.exists("code used")) {
            typed_in_code = "nocodeentered20kdoa0"
            game.splash("Code on time out!")
        } else {
            typed_in_code = "nocodeentered20kdoa1"
            info.changeScoreBy(10)
            blockSettings.writeNumber("code used", 1)
        }
    } else if (typed_in_code == "give") {
        moneyhack3 = true
    }
    if (Entered_Reset_Code == "reset") {
        Entered_Reset_Code = "notreset!...233f2567yfdx87"
        info.setScore(3)
    } else if (Entered_Reset_Code == "money") {
        Entered_Reset_Code = "notreset!...233f2567yfdx87"
        moneyhack2 = true
    } else if (Entered_Reset_Code == "fullreset166") {
        Entered_Reset_Code = "notreset!...233f2567yfdx87"
        blockSettings.clear()
    }
    if (Countdown_Time != 3) {
        timer.background(function () {
            music.buzzer.play()
        })
        timer.background(function () {
            game.splash("SECURITY ERROR", "Game Locked")
        })
    }
    if (moneyhack1 && (moneyhack2 && moneyhack3)) {
        if (blockSettings.exists("hackused")) {
            moneyhack1 = false
            moneyhack2 = false
            moneyhack3 = false
            game.splash("Hey... unfair", "Not again")
        } else {
            moneyhack1 = false
            moneyhack2 = false
            moneyhack3 = false
            blockSettings.writeNumber("hackused", 1)
            game.splash("How did you get this?", "Here you go")
            info.changeScoreBy(100)
        }
    }
})
game.onUpdateInterval(500, function () {
    blockSettings.writeNumber("credits", info.score())
})
